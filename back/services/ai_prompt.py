def build_cards_prompt(text: str, max_cards: int = 10) -> str:
    return f"""
Ты — помощник, который делает учебные флеш-карточки по заданному тексту.
Задача: выделить ключевые понятия/формулы/определения и сгенерировать до {max_cards} карточек в формате вопрос/ответ.

Требования к ответу:
- Верни строго JSON без пояснений и комментариев, без Markdown.
- Формат:
{{
  "cards": [
    {{ "q": "вопрос 1", "a": "ответ 1" }},
    {{ "q": "вопрос 2", "a": "ответ 2" }}
  ]
}}
- Вопросы должны быть короткими и точными.
- Ответы — ёмкие, но информативные (1–3 предложения).
- Если в тексте формулы/термины — включай их.

Текст для анализа (фрагмент):
\"\"\"{text[:6000]}\"\"\"
"""
