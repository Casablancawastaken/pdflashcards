def build_cards_prompt(text: str) -> str:
    return f"""
Ты — система, которая создаёт флеш-карточки на ОСНОВЕ ЯЗЫКА исходного текста.

ТВОИ ЖЁСТКИЕ ПРАВИЛА:

1) Определи язык текста автоматически.
2) Генерируй карточки СТРОГО на этом языке.
   - Если текст на русском → карточки на русском.
   - Если текст на английском → карточки на английском.
   - Никаких переводов, НИКАКОГО английского, если исходный текст не английский.

3) Вернуть ТОЛЬКО JSON:
{{
  "cards": [
    {{"q": "вопрос", "a": "ответ"}},
    {{"q": "вопрос", "a": "ответ"}}
  ]
}}

4) Количество карточек: 8–12.
5) Формат: вопрос — максимально короткий, ответ — 1–3 предложения.
6) Используй терминологию из текста, не придумывай ничего нового.
7) НЕЛЬЗЯ выводить ничего кроме JSON. Никаких пояснений, Markdown, текста вокруг.

Вот текст (анализируй язык именно по нему):
\"\"\"{text[:1750]}\"\"\"
"""
